(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){e.exports=n(203)},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(92),c=n(14),i=n(22),u=(n(195),n(96)),l=n(7),d=n(100),s=n(16),m=n(99);function p(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var v={addedIds:[],showModal:!1,quantityById:{}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.addedIds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":return-1!==e.indexOf(t.productId)?e:[].concat(Object(m.a)(e),[t.productId]);case"ENTIRELY_REMOVE_FROM_CART":return-1!==e.indexOf(t.productId)?e.filter(function(e){return e!==t.productId}):e;default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.showModal;switch((arguments.length>1?arguments[1]:void 0).type){case"SHOW_MODAL":return!e;default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v.quantityById,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":var n=t.productId;return Object(l.a)({},e,Object(s.a)({},n,(e[n]||0)+1));case"ENTIRELY_REMOVE_FROM_CART":var r=t.productId;e[r];return Object(d.a)(e,[r].map(p));case"REMOVE_FROM_CART":var a=e[t.productId]-1;return Object(l.a)({},e,Object(s.a)({},t.productId,a));default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHECKOUT_REQUEST":return v;case"CHECKOUT_FAILURE":return t.cart;default:return{addedIds:f(e.addedIds,t),showModal:C(e.showModal,t),quantityById:E(e.quantityById,t)}}},b=Object(c.c)({byId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_PRODUCTS":return Object(l.a)({},e,t.products.reduce(function(e,t){return e[t.id]=Object(l.a)({},t,{initialInventory:t.inventory}),e},{}));default:var n=t.productId;return n?Object(l.a)({},e,Object(s.a)({},n,function(e,t){switch(t.type){case"ADD_TO_CART":return Object(l.a)({},e,{inventory:e.inventory-1});case"ENTIRELY_REMOVE_FROM_CART":return Object(l.a)({},e,{inventory:e.initialInventory});case"REMOVE_FROM_CART":return e.inventory+1>e.initialInventory?Object(l.a)({},e,{inventory:e.initialInventory}):Object(l.a)({},e,{inventory:e.inventory+1});default:return e}}(e[n],t))):e}},visibleIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_PRODUCTS":return t.products.map(function(e){return e.id});default:return e}}}),y=function(e,t){return e.byId[t]},L=function(e){return e.visibleIds.map(function(t){return y(e,t)})},g=Object(c.c)({cart:h,products:b}),w=function(e){return function(e){return e.showModal}(e.cart)},O=function(e){return function(e){return e.addedIds}(e.cart)},k=function(e,t){return function(e,t){return e.quantityById[t]||0}(e.cart,t)},R=function(e,t){return y(e.products,t)},T=function(e){return O(e).reduce(function(t,n){return t+R(e,n).price.value*k(e,n)},0).toFixed(2)},M=function(e){return O(e).map(function(t){return Object(l.a)({},R(e,t),{quantity:k(e,t)})})},I=n(97),N=function(e,t){return setTimeout(function(){return e(I)},t||100)},_=function(e,t,n){return setTimeout(function(){return t()},n||100)},j=function(){return function(e){e({type:"SHOW_MODAL"})}},x=function(e){return function(t,n){n().products.byId[e].inventory>0&&t(function(e){return{type:"ADD_TO_CART",productId:e}}(e))}},A=n(35),S=n(36),F=n(38),U=n(37),D=n(39),q=function(){return a.a.createElement("svg",{width:"16px",height:"15px",viewBox:"0 0 16 15",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.a.createElement("g",{id:"v2",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"square"},a.a.createElement("g",{id:"Cart---Mobile",transform:"translate(-247.000000, -233.000000)",stroke:"#8E939C",strokeWidth:"2"},a.a.createElement("g",{id:"Amount-Picker",transform:"translate(17.000000, 220.000000)"},a.a.createElement("g",{id:"Add-btn",transform:"translate(191.000000, 0.000000)"},a.a.createElement("g",{id:"Add",transform:"translate(40.000000, 14.000000)"},a.a.createElement("path",{d:"M0.333333333,6.5 L13.6833229,6.5",id:"Line-2"}),a.a.createElement("path",{d:"M7,0 L7,13",id:"Line-2"})))))))},Z=function(){return a.a.createElement("svg",{width:"16px",height:"2px",viewBox:"0 0 16 2",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.a.createElement("g",{id:"v2",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",strokeLinecap:"square"},a.a.createElement("g",{id:"Cart---Mobile",transform:"translate(-57.000000, -239.000000)",stroke:"#8E939C",strokeWidth:"2"},a.a.createElement("g",{id:"Amount-Picker",transform:"translate(17.000000, 220.000000)"},a.a.createElement("g",{id:"Subtract-btn"},a.a.createElement("path",{d:"M41,20 L55,20",id:"Remove"}))))))},P=(n(196),function(e){function t(e){var n;return Object(A.a)(this,t),(n=Object(F.a)(this,Object(U.a)(t).call(this,e))).canvas=null,n.sandbox=null,n}return Object(D.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("./assets/images/".concat(this.props.title.toLowerCase(),".png")).then(function(e){if(e.ok)return e.blob();throw new Error("Network response was not ok.")}).then(function(t){var n=URL.createObjectURL(t);e.canvas=document.querySelector(".canvas".concat(e.props.id)),e.sandbox=new window.GlslCanvas(e.canvas),e.sandbox.setUniform("u_tex0",n)}).catch(function(e){console.log("There has been a problem with your fetch operation: ",e.message)})}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.price,r=e.inventory,o=e.showingInCart,c=e.handleEntirelyRemoveClicked,i=e.onAddToCartClicked,u=e.onRemoveFromCartClicked,l=e.title,d=e.quantity,s=e.children;return a.a.createElement("div",null,a.a.createElement("div",{className:"product"},a.a.createElement("div",{className:"img-holder"},a.a.createElement("canvas",{className:"glsl canvas".concat(t),ref:this.glsl,"data-fragment-url":"frag.frag"}),a.a.createElement("img",{src:"./assets/images/".concat(l.toLowerCase(),".png"),alt:l})),a.a.createElement("div",{className:"holder"},a.a.createElement("div",{className:"title-price"},a.a.createElement("h4",{className:"title"},l),a.a.createElement("div",{className:"price"},"$",n)),o&&a.a.createElement("button",{className:"reset-button sub remove",onClick:c},"Remove"),!o&&a.a.createElement("div",{className:"inventory sub"},r?" ".concat(r," remaining"):"sold out"),s)),o&&a.a.createElement("div",{className:"button-group cart-button-group"},a.a.createElement("button",{className:"reset-button",onClick:u,disabled:!d},Z()),a.a.createElement("button",{className:"reset-button center"},d),a.a.createElement("button",{className:"reset-button",onClick:i,disabled:!r},q())))}}]),t}(a.a.Component)),V=(n(197),function(e){var t=e.product,n=e.onAddToCartClicked;return a.a.createElement(P,{showingInCart:!1,id:t.id,title:t.productTitle,price:t.price.value,inventory:t.inventory},a.a.createElement("button",{className:"add-to-cart",onClick:n,disabled:t.inventory>0?"":"disabled"},"Add to cart"))}),B=(n(198),function(e){var t=e.children;return a.a.createElement("div",{className:"product-list"},t)}),Q=function(){return a.a.createElement("svg",{width:"17px",height:"14px",viewBox:"0 0 17 14",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},a.a.createElement("g",{id:"v2",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"Mobile",transform:"translate(-18.000000, -66.000000)",fill:"#292929",fillRule:"nonzero"},a.a.createElement("g",{id:"Header",transform:"translate(18.000000, 21.000000)"},a.a.createElement("g",{id:"Cart-btn",transform:"translate(0.000000, 44.000000)"},a.a.createElement("path",{d:"M16.9337172,4.87274964 C16.866376,4.77793318 16.757373,4.72154612 16.6408278,4.72154612 L3.53442727,4.72154612 L2.56579092,1.26236146 C2.52251295,1.10720725 2.38100656,1 2.21992632,1 L0.359153264,1 C0.160900662,1 0,1.16090066 0,1.35915326 C0,1.55740587 0.160900662,1.71830653 0.359153264,1.71830653 L1.94768815,1.71830653 L4.21071287,9.800512 C3.38035052,9.8136211 2.70855434,10.4922412 2.70855434,11.3256563 C2.70855434,12.167332 3.39328004,12.8520577 4.23495571,12.8520577 L4.69521062,12.8520577 C4.63577075,12.9924866 4.60290823,13.146743 4.60290823,13.3085415 C4.60290823,13.9562744 5.12996564,14.4833318 5.77751898,14.4833318 C6.42525189,14.4833318 6.95230931,13.9562744 6.95230931,13.3085415 C6.95230931,13.146743 6.91926721,12.9924866 6.86000692,12.8520577 L10.6630808,12.8520577 C10.5887361,13.0061345 10.5458173,13.1781689 10.5458173,13.3606187 C10.5458173,14.0083516 11.0728747,14.5354091 11.720428,14.5354091 C12.3679814,14.5354091 12.8950388,14.0083516 12.8950388,13.3606187 C12.8950388,13.1783484 12.85212,13.006314 12.7777752,12.8520577 L13.408628,12.8520577 C13.6068806,12.8520577 13.7677812,12.691157 13.7677812,12.4929044 C13.7677812,12.2946518 13.6068806,12.1337512 13.408628,12.1337512 L4.23477613,12.1337512 C3.78924651,12.1337512 3.42668129,11.771186 3.42668129,11.3256563 C3.42668129,10.8801267 3.78924651,10.5175615 4.23477613,10.5175615 L4.68299941,10.5175615 C4.68317898,10.5175615 4.68335856,10.5175615 4.68353814,10.5175615 C4.68371771,10.5175615 4.68389729,10.5175615 4.68425644,10.5175615 L14.8730754,10.5175615 C15.0530112,10.5175615 15.2006232,10.3846748 15.2268414,10.2121016 L16.9798684,5.19921996 C17.0182978,5.08931906 17.0010585,4.96774568 16.9337172,4.87274964 Z M11.7202485,13.8167434 C11.4686616,13.8167434 11.2639442,13.612026 11.2639442,13.3602596 C11.2639442,13.1084931 11.4686616,12.9037758 11.7202485,12.9037758 C11.9718353,12.9037758 12.1765527,13.1084931 12.1765527,13.3602596 C12.1765527,13.612026 11.9718353,13.8167434 11.7202485,13.8167434 Z M6.2338232,13.3081824 C6.2338232,13.5597692 6.02892626,13.7646662 5.7773394,13.7646662 C5.52575254,13.7646662 5.32103518,13.5599488 5.32103518,13.3081824 C5.32103518,13.0564159 5.52575254,12.8516986 5.7773394,12.8516986 C6.02892626,12.8516986 6.2338232,13.0565955 6.2338232,13.3081824 Z M15.8557187,6.23753205 L13.3842055,6.23753205 L13.4975184,5.43967307 L16.1347808,5.43967307 L15.8557187,6.23753205 Z M15.2381547,8.00348865 L13.133337,8.00348865 L13.282206,6.95601815 L15.6046706,6.95601815 L15.2381547,8.00348865 Z M14.6103548,9.79925496 L12.8781586,9.79925496 L13.0311579,8.72179517 L14.9872861,8.72179517 L14.6103548,9.79925496 Z M10.3125472,9.79925496 L10.3125472,8.72179517 L12.3056683,8.72179517 L12.1524894,9.79925496 L10.3125472,9.79925496 Z M7.75429854,9.79925496 L7.60111968,8.72179517 L9.59424071,8.72179517 L9.59424071,9.79925496 L7.75429854,9.79925496 Z M4.95613546,9.79925496 L4.65444672,8.72179517 L6.87563008,8.72179517 L7.02862937,9.79925496 L4.95613546,9.79925496 Z M10.3125472,6.23753205 L10.3125472,5.43967307 L12.7718492,5.43967307 L12.6585364,6.23753205 L10.3125472,6.23753205 Z M12.5565368,6.95583857 L12.4076678,8.00330907 L10.3125472,8.00330907 L10.3125472,6.95583857 L12.5565368,6.95583857 Z M9.59424071,6.23753205 L7.24807202,6.23753205 L7.13475916,5.43967307 L9.59406114,5.43967307 L9.59406114,6.23753205 L9.59424071,6.23753205 Z M9.59424071,6.95583857 L9.59424071,8.00330907 L7.49912015,8.00330907 L7.35025112,6.95583857 L9.59424071,6.95583857 Z M6.77345098,8.00348865 L4.4533209,8.00348865 L4.15989268,6.95601815 L6.62458195,6.95601815 L6.77345098,8.00348865 Z M6.40908999,5.43985265 L6.52240285,6.23771162 L3.95894643,6.23771162 L3.7355531,5.43985265 L6.40908999,5.43985265 Z",id:"Shape"}))))))},H=(n(199),function(e){var t=e.handleCartClicked,n=e.quantityCount,r=e.itemCount;return a.a.createElement("div",{className:"shopping-cart"},a.a.createElement("button",{className:"reset-button",onClick:t},Q(),r?"".concat(r," product").concat(1!==r?"s":""," : \n          ").concat(n," quantity"):"Your cart is empty"))}),W=(n(200),Object(i.b)(function(e){return{products:L(e.products),cartProducts:M(e)}},{addToCart:x,showModal:j})(function(e){var t=e.products,n=e.cartProducts,r=e.addToCart,o=e.showModal,c=n.reduce(function(e,t){return e+t.quantity},0);return a.a.createElement("div",null,a.a.createElement("div",{className:"header"},a.a.createElement("h2",null,"Acme Store"),a.a.createElement(H,{quantityCount:c,itemCount:n.length,handleCartClicked:function(){return o()}})),a.a.createElement(B,null,t.map(function(e){return a.a.createElement(V,{key:e.id,product:e,onAddToCartClicked:function(){return r(e.id)}})})))})),Y=n(98),K=n.n(Y),$=(n(201),function(e){function t(e){var n;return Object(A.a)(this,t),(n=Object(F.a)(this,Object(U.a)(t).call(this,e))).resetState=function(){n.setState({dirty:!1,tempQuantities:{1:{count:0},2:{count:0},3:{count:0}}})},n.state={dirty:!1,tempQuantities:{1:{count:0},2:{count:0},3:{count:0}}},n}return Object(D.a)(t,e),Object(S.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){e.open!==this.props.open&&this.resetState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=t.handleCartClicked,o=t.handleEntirelyRemoveClicked,c=t.addToCart,i=t.removeFromCart,u=t.products,l=t.total,d=t.onCheckoutClicked,s=(.0875*l).toFixed(2),m=(parseFloat(l)+parseFloat(s)).toFixed(2),p=u.length>0,v=p?u.map(function(t){var n=e.state.tempQuantities[t.id].count,r=t.quantity+n,c=t.inventory-n;return a.a.createElement(P,{handleEntirelyRemoveClicked:function(){return o(t.id)},onAddToCartClicked:function(){return function(t){e.setState(function(e){return e.dirty=!0,e.tempQuantities[t.id].count++,e})}(t)},onRemoveFromCartClicked:function(){return function(t){e.setState(function(e){return e.dirty=!0,e.tempQuantities[t.id].count--,e})}(t)},showingInCart:!0,title:t.productTitle,price:t.price.value,quantity:r,inventory:c,key:t.id})}):a.a.createElement("em",null,"Please add some products to cart.");return n?a.a.createElement("div",{id:"cart"},a.a.createElement("div",{className:"content"},a.a.createElement("button",{className:"reset-button close-cart-button",onClick:r},a.a.createElement("img",{src:K.a,alt:"Close Shopping Cart"})),a.a.createElement("h3",null,"Your cart"),p&&a.a.createElement("div",{className:"cart-items"},a.a.createElement("div",{className:"items-container"},v),a.a.createElement("div",{className:"price-row"},a.a.createElement("div",{className:"column"},"Subtotal:"),a.a.createElement("div",{className:"column"},"$",l)),a.a.createElement("div",{className:"price-row divider"},a.a.createElement("div",{className:"column"},"Tax:"),a.a.createElement("div",{className:"column"},"$",s)),a.a.createElement("div",{className:"price-row"},a.a.createElement("div",{className:"column"},"Total:"),a.a.createElement("div",{className:"column"},"$",m)),a.a.createElement("button",{className:"reset-button update",disabled:!this.state.dirty,onClick:function(){u.map(function(t){var n=e.state.tempQuantities[t.id].count;if(n>0)for(var r=0;r<n;)c(t.id),r++;if(n<0)for(var a=0;a<Math.abs(n);)i(t.id),a++;return!0}),e.resetState()}},"Update"),a.a.createElement("button",{className:"reset-button checkout",onClick:d},"CHECKOUT")),!p&&a.a.createElement("div",{className:"cart-empty"},Q(),a.a.createElement("div",{className:"sub"},a.a.createElement("p",null,"Please add some products",a.a.createElement("br",null)," to your cart."))))):null}}]),t}(a.a.Component)),X=Object(i.b)(function(e){return{products:M(e),total:T(e),open:w(e)}},{checkout:function(e){return function(t,n){var r=n().cart;t({type:"CHECKOUT_REQUEST"}),_(e,function(){t({type:"CHECKOUT_SUCCESS",cart:r})})}},showModal:j,entirelyRemoveFromCart:function(e){return function(t){t(function(e){return{type:"ENTIRELY_REMOVE_FROM_CART",productId:e}}(e))}},addToCart:x,removeFromCart:function(e){return function(t){t(function(e){return{type:"REMOVE_FROM_CART",productId:e}}(e))}}})(function(e){var t=e.open,n=e.products,r=e.total,o=e.checkout,c=e.showModal,i=e.entirelyRemoveFromCart,u=e.addToCart,l=e.removeFromCart;return a.a.createElement($,{handleCartClicked:function(){return c()},handleEntirelyRemoveClicked:function(e){return i(e)},addToCart:u,removeFromCart:l,open:t,products:n,total:r,onCheckoutClicked:function(){return o(n)}})}),z=(n(202),function(){return a.a.createElement("div",null,a.a.createElement(W,null),a.a.createElement(X,null))}),J=[u.a];var G=Object(c.d)(g,c.a.apply(void 0,J));G.dispatch(function(e){N(function(t){e(function(e){return{type:"RECEIVE_PRODUCTS",products:e}}(t))})}),Object(o.render)(a.a.createElement(i.a,{store:G},a.a.createElement(z,null)),document.getElementById("root"))},97:function(e){e.exports=[{id:1,productTitle:"Chronograph",price:{value:500.01,currency:"USD"},inventory:2},{id:2,productTitle:"Quartz",price:{value:10.99,currency:"USD"},inventory:10},{id:3,productTitle:"Weekender",price:{value:19.99,currency:"USD"},inventory:5}]},98:function(e,t,n){e.exports=n.p+"static/media/shoppingCartClose.48cc64a3.svg"}},[[101,1,2]]]);
//# sourceMappingURL=main.22c255ce.chunk.js.map